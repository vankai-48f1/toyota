!function(a){"use strict";redux.field_objects=redux.field_objects||{},redux.field_objects.pgs_repeater=redux.field_objects.pgs_repeater||{},redux.field_objects.pgs_repeater.sort_repeaters=function(b){b.hasClass("redux-container-pgs_repeater")||(b=b.parents(".redux-container-pgs_repeater:first")),b.find(".redux-pgs_repeater-accordion-pgs_repeater").each(function(b){var c=a(this).attr("data-sortid"),d=a(this).find("input[name*='["+c+"]']");d.each(function(){a(this).attr("name",a(this).attr("name").replace("["+c+"]","["+b+"]"))});var e=a(this).find("select[name*='["+c+"]']");e.each(function(){a(this).attr("name",a(this).attr("name").replace("["+c+"]","["+b+"]"))}),a(this).attr("data-sortid",b);var f=a(this).find(".ui-accordion-header"),g=f.attr("id").split("-header-");f.attr("id",g[0]+"-header-"+b),g=f.attr("aria-controls").split("-panel-"),f.attr("aria-controls",g[0]+"-panel-"+b);var h=a(this).find(".ui-accordion-content"),g=h.attr("id").split("-panel-");h.attr("id",g[0]+"-panel-"+b),g=h.attr("aria-labelledby").split("-header-"),h.attr("aria-labelledby",g[0]+"-header-"+b)})},redux.field_objects.pgs_repeater.init=function(b){b||(b=a(document).find(".redux-group-tab:visible").find(".redux-container-pgs_repeater:visible")),a(b).each(function(b){var c=a(this),d=c;if(c.hasClass("redux-field-container")||(d=c.parents(".redux-field-container:first")),!d.is(":hidden")&&d.hasClass("redux-field-init")){d.removeClass("redux-field-init");var d=c;c.hasClass("redux-field-container")||(d=c.parents(".redux-field-container:first"));var e=d.attr("data-id"),f=c.find(".redux-pgs_repeater-accordion-pgs_repeater:last-child");if(redux.pgs_repeater[e].blank=f.clone().wrap("<p>").parent().html(),d.hasClass("redux-container-pgs_repeater")&&d.addClass("redux-field-init"),d.hasClass("redux-field-init")){d.removeClass("redux-field-init");var i,g=c.find(".redux-pgs_repeater-accordion"),h=Boolean(g.data("panels-closed"));i=h===!0?Boolean(!1):parseInt(0);var j=c.find(".redux-pgs_repeater-accordion").accordion({header:"> div > fieldset > h3",collapsible:!0,active:i,beforeActivate:function(b,d){"function"==typeof reduxRepeaterAccordionBeforeActivate&&reduxRepeaterAccordionBeforeActivate(a(this),c,b,d)},activate:function(b,d){a.redux.initFields(),"function"==typeof reduxRepeaterAccordionActivate&&reduxRepeaterAccordionActivate(a(this),c,b,d)},heightStyle:"content",icons:{header:"ui-icon-plus",activeHeader:"ui-icon-minus"}});1==redux.pgs_repeater[e].sortable?j.sortable({axis:"y",handle:"h3",connectWith:".redux-pgs_repeater-accordion",placeholder:"ui-state-highlight",start:function(a,b){b.placeholder.height(b.item.height()),b.placeholder.width(b.item.width())},stop:function(b,c){c.item.children("h3").triggerHandler("focusout"),redux.field_objects.pgs_repeater.sort_repeaters(a(this))}}):j.find("h3.ui-accordion-header").css("cursor","pointer"),c.find(".redux-pgs_repeater-accordion-pgs_repeater .bind_title").on("change keyup",function(b){var c;c=a(b.target).find(":selected").text().length>0?a(b.target).find(":selected").text():a(b.target).val(),a(this).closest(".redux-pgs_repeater-accordion-pgs_repeater").find(".redux-pgs_repeater-header").text(c)}),c.find(".redux-pgs_repeaters-remove").live("click",function(){redux_change(a(this));var b=a(this).parents(".redux-container-pgs_repeater:first"),d=b.attr("data-id");redux.pgs_repeater[d].blank=a(this).parents(".redux-pgs_repeater-accordion-pgs_repeater:first").clone(!0,!0),a(this).parents(".redux-pgs_repeater-accordion-pgs_repeater:first").slideUp("medium",function(){if(a(this).remove(),redux.field_objects.pgs_repeater.sort_repeaters(c),""!=redux.pgs_repeater[d].limit){var e=b.find(".redux-pgs_repeater-accordion-pgs_repeater").length;e<redux.pgs_repeater[d].limit&&b.find(".redux-pgs_repeaters-add").removeClass("button-disabled")}b.find(".redux-pgs_repeater-accordion-pgs_repeater:last .ui-accordion-header").click()})});var k=c.find(".redux-pgs_repeater-accordion-pgs_repeater");k.hasClass("close-me")&&c.find(".redux-pgs_repeaters-remove").click(),String.prototype.reduxReplaceAll=function(a,b){return this.replace(new RegExp(a.replace(/[.^$*+?()[{\|]/g,"\\$&"),"g"),b)},c.find(".redux-pgs_repeaters-add").click(function(){if(!a(this).hasClass("button-disabled")){var b=a(this).parent().find(".redux-pgs_repeater-accordion:first"),d=b.find(".redux-pgs_repeater-accordion-pgs_repeater").length,e=b.attr("data-id");if(""!=redux.pgs_repeater[e].limit&&d>=redux.pgs_repeater[e].limit)return void a(this).addClass("button-disabled");d++;var f=b.find(".redux-pgs_repeater-accordion-pgs_repeater").size();b.find(".redux-pgs_repeater-accordion-pgs_repeater:last").find(".ui-accordion-header").hasClass("ui-state-active")&&b.find(".redux-pgs_repeater-accordion-pgs_repeater:last").find(".ui-accordion-header").click();var g=b.find(".redux-pgs_repeater-accordion-pgs_repeater:last").clone(!0,!0);if(0==g.length&&(g=redux.pgs_repeater[e].blank),redux.pgs_repeater[e]){redux.pgs_repeater[e].count=c.find(".redux-pgs_repeater-header").length;var i=redux.pgs_repeater[e].html.reduxReplaceAll("99999",f);a(g).find(".redux-pgs_repeater-header").text("")}g.find(".ui-accordion-content").html(i),a(b).append(g),redux.field_objects.pgs_repeater.sort_repeaters(g);var g=a(this).parent().find(".redux-pgs_repeater-accordion:first");g.find(".redux-pgs_repeater-accordion-pgs_repeater:last .ui-accordion-header").click(),g.find(".redux-pgs_repeater-accordion-pgs_repeater:last .bind_title").on("change keyup",function(b){var c;c=a(b.target).find(":selected").text().length>0?a(b.target).find(":selected").text():a(b.target).val(),a(this).closest(".redux-pgs_repeater-accordion-pgs_repeater").find(".redux-pgs_repeater-header").text(c)}),redux.pgs_repeater[e].limit>0&&d>=redux.pgs_repeater[e].limit&&a(this).addClass("button-disabled"),h===!0&&d>=2&&c.find(".redux-pgs_repeater-accordion").accordion("option",{active:!1})}})}}})}}(jQuery),jQuery(document).ready(function(){var a=jQuery(".redux-field-container.redux-field.redux-container-pgs_repeater .redux-pgs_repeater-accordion");a.set_social_media_pgs_repeater_custom_field_logic(),jQuery(".redux-pgs_repeaters-add").click(function(){setTimeout(function(){a=jQuery(".redux-field-container.redux-field.redux-container-pgs_repeater .redux-pgs_repeater-accordion"),a.set_social_media_pgs_repeater_custom_field_logic()},50)})}),jQuery.fn.set_social_media_pgs_repeater_custom_field_logic=function(){jQuery(this).each(function(a,b){var c=jQuery("#social_media_type-"+a+"-select"),d=jQuery("#"+redux_vars.option_name+"-custom_social_title-"+a+", #"+redux_vars.option_name+"-custom_soical_icon-"+a);"custom"==c.val()?(d.show(),d.prev().show()):(d.hide(),d.prev().hide()),c.val()||c.parents(".ui-accordion-content").css("height",""),c.change(function(){c.parents(".ui-accordion-content").css("height",""),"custom"==jQuery(this).val()?(d.show(),d.prev().show()):(d.hide(),d.prev().hide())})})};